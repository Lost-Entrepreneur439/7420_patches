From 38929e899a311ddb591cdc4fcc844f415791f9f3 Mon Sep 17 00:00:00 2001
From: Dominggoes Isakh <drjisakh@gmail.com>
Date: Tue, 14 Dec 2021 12:00:18 +0100
Subject: [PATCH 4/9] Revert "Remove unused IptJumpOp value"

This reverts commit f265dddfffa7d355692bc43cb77d18555764646b.
---
 server/BandwidthController.cpp | 2 ++
 server/BandwidthController.h   | 2 +-
 2 files changed, 3 insertions(+), 1 deletion(-)

diff --git a/server/BandwidthController.cpp b/server/BandwidthController.cpp
index dad87756..17622d75 100644
--- a/server/BandwidthController.cpp
+++ b/server/BandwidthController.cpp
@@ -810,6 +810,8 @@ inline const char *BandwidthController::jumpToString(IptJumpOp jumpHandling) {
      * For port-unreachable (default), TCP should consider as an abort (RFC1122).
      */
     switch (jumpHandling) {
+    case IptJumpNoAdd:
+        return "";
     case IptJumpReject:
         return " -j REJECT";
     case IptJumpReturn:
diff --git a/server/BandwidthController.h b/server/BandwidthController.h
index 414e91b8..3b71460e 100644
--- a/server/BandwidthController.h
+++ b/server/BandwidthController.h
@@ -69,7 +69,7 @@ public:
     static const char LOCAL_MANGLE_POSTROUTING[];
     static const char LOCAL_GLOBAL_ALERT[];
 
-    enum IptJumpOp { IptJumpReject, IptJumpReturn };
+    enum IptJumpOp { IptJumpReject, IptJumpReturn, IptJumpNoAdd };
     enum IptOp { IptOpInsert, IptOpDelete };
 
   private:
-- 
2.37.1

